{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\iafol\\\\Documents\\\\Unit1\\\\FS0624-Lezioni\\\\Settimana 10\\\\Lezione 3\\\\netflix\\\\src\\\\components\\\\MovieDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ClipLoader } from 'react-spinners';\nimport './MovieDetails.css'; // Aggiungi il tuo file CSS per lo styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = '6953698b';\nfunction MovieDetails() {\n  _s();\n  const {\n    movieId\n  } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    // Fetch dettagli del film\n    fetch(`http://www.omdbapi.com/?apikey=${API_KEY}&i=${movieId}`).then(response => response.json()).then(data => {\n      if (data.Response === \"True\") {\n        setMovie(data);\n        // Fetch commenti\n        fetch(`https://striveschool-api.herokuapp.com/api/comments/${movieId}`, {\n          headers: {\n            Authorization: 'Bearer YOUR_API_TOKEN_HERE' // Inserisci il tuo token API qui\n          }\n        }).then(response => response.json()).then(commentsData => {\n          setComments(commentsData);\n          setLoading(false);\n        }).catch(err => {\n          setError(err.message);\n          setLoading(false);\n        });\n      } else {\n        throw new Error(data.Error);\n      }\n    }).catch(err => {\n      setError(err.message);\n      setLoading(false);\n    });\n  }, [movieId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movie-details\",\n    children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-container\",\n      children: /*#__PURE__*/_jsxDEV(ClipLoader, {\n        color: \"#ffffff\",\n        loading: loading,\n        size: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this) : movie ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: movie.Title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: movie.Poster,\n        alt: movie.Title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: movie.Plot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Comments:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), comments.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: comment.comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Rating: \", comment.rate]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 37\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No comments available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Movie not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(MovieDetails, \"wr3b+JlIMMMUzMA9+3qTrEbNng0=\", false, function () {\n  return [useParams];\n});\n_c = MovieDetails;\nexport default MovieDetails;\nvar _c;\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","ClipLoader","jsxDEV","_jsxDEV","API_KEY","MovieDetails","_s","movieId","movie","setMovie","comments","setComments","loading","setLoading","error","setError","fetch","then","response","json","data","Response","headers","Authorization","commentsData","catch","err","message","Error","className","children","color","size","fileName","_jsxFileName","lineNumber","columnNumber","Title","src","Poster","alt","Plot","length","map","comment","index","rate","_c","$RefreshReg$"],"sources":["C:/Users/iafol/Documents/Unit1/FS0624-Lezioni/Settimana 10/Lezione 3/netflix/src/components/MovieDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { ClipLoader } from 'react-spinners';\r\nimport './MovieDetails.css'; // Aggiungi il tuo file CSS per lo styling\r\n\r\nconst API_KEY = '6953698b';\r\n\r\nfunction MovieDetails() {\r\n    const { movieId } = useParams();\r\n    const [movie, setMovie] = useState(null);\r\n    const [comments, setComments] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        // Fetch dettagli del film\r\n        fetch(`http://www.omdbapi.com/?apikey=${API_KEY}&i=${movieId}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.Response === \"True\") {\r\n                    setMovie(data);\r\n                    // Fetch commenti\r\n                    fetch(`https://striveschool-api.herokuapp.com/api/comments/${movieId}`, {\r\n                        headers: {\r\n                            Authorization: 'Bearer YOUR_API_TOKEN_HERE' // Inserisci il tuo token API qui\r\n                        }\r\n                    })\r\n                        .then(response => response.json())\r\n                        .then(commentsData => {\r\n                            setComments(commentsData);\r\n                            setLoading(false);\r\n                        })\r\n                        .catch(err => {\r\n                            setError(err.message);\r\n                            setLoading(false);\r\n                        });\r\n                } else {\r\n                    throw new Error(data.Error);\r\n                }\r\n            })\r\n            .catch(err => {\r\n                setError(err.message);\r\n                setLoading(false);\r\n            });\r\n    }, [movieId]);\r\n\r\n    return (\r\n        <div className=\"movie-details\">\r\n            {loading ? (\r\n                <div className=\"loader-container\">\r\n                    <ClipLoader color=\"#ffffff\" loading={loading} size={50} />\r\n                </div>\r\n            ) : error ? (\r\n                <div className=\"error-message\">\r\n                    <p>Error: {error}</p>\r\n                </div>\r\n            ) : movie ? (\r\n                <div>\r\n                    <h1>{movie.Title}</h1>\r\n                    <img src={movie.Poster} alt={movie.Title} />\r\n                    <p>{movie.Plot}</p>\r\n                    <h2>Comments:</h2>\r\n                    {comments.length > 0 ? (\r\n                        <ul>\r\n                            {comments.map((comment, index) => (\r\n                                <li key={index}>\r\n                                    <p>{comment.comment}</p>\r\n                                    <p>Rating: {comment.rate}</p>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    ) : (\r\n                        <p>No comments available.</p>\r\n                    )}\r\n                </div>\r\n            ) : (\r\n                <p>Movie not found.</p>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MovieDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}